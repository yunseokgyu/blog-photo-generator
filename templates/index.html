<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μ΄λ―Έμ§€ μ„Ένƒμ† (Image Laundry)</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>π§Ί μ΄λ―Έμ§€ μ„Ένƒμ† & π”¬ μ •λ°€ λ¶„μ„μ‹¤</h1>
            <p>λΈ”λ΅κ·Έμ© μ΄λ―Έμ§€ μλ™ κ°€κ³µ + λ΄‡ μ‹μ  μ°¨μ΄ λ¶„μ„</p>
        </header>

        <main>
            <!-- Left Column: Image Laundry -->
            <div class="section">
                <h2>π’§ μ΄λ―Έμ§€ μ„ΈνƒκΈ°</h2>
                <div class="upload-area" id="drop-zone">
                    <div class="icon">βοΈ</div>
                    <p>μ΄λ―Έμ§€ λ“λκ·Έ & λ“λ΅­</p>
                    <input type="file" id="file-input" multiple accept="image/*" hidden>
                </div>
                <div id="file-list" class="file-list"></div>

                <div class="input-group">
                    <label for="target-count">π“ μƒμ„± μλ‰ (1~100)</label>
                    <input type="number" id="target-count" min="1" max="100" value="10">
                </div>

                <div class="input-group">
                    <label for="keywords">π·οΈ ν‚¤μ›λ“ (μ‰Όν‘ κµ¬λ¶„)</label>
                    <input type="text" id="keywords" placeholder="μ: λ§›μ§‘, μ—¬ν–‰" value="λΈ”λ΅κ·Έ, μ •λ³΄">
                </div>

                <button id="process-btn" disabled>μ„Ένƒ μ‹μ‘</button>

                <div id="status-area" class="hidden">
                    <div class="spinner"></div>
                    <p id="status-text">μ„Ένƒ μ¤‘...</p>
                </div>

                <div id="result-area" class="hidden">
                    <div class="success-icon">β¨</div>
                    <p>μ™„λ£!</p>
                    <a id="download-link" href="#" class="download-btn">π“¦ λ‹¤μ΄λ΅λ“</a>
                </div>
            </div>

            <!-- Right Column: Image Comparator -->
            <div class="section">
                <h2>π”¬ λΉ„κµ μ‹¤ν—μ‹¤</h2>
                <p style="font-size:0.9rem; color:#666; margin-bottom:1rem;">μ›λ³Έ(A)κ³Ό μ„Ένƒλ³Έ(B)μ„ λΉ„κµν•΄λ³΄μ„Έμ”.</p>

                <div class="compare-grid">
                    <div class="mini-drop" id="drop-a">
                        π“‚ μ›λ³Έ(A)<br>ν΄λ¦­/λ“λ΅­
                        <input type="file" id="input-a" accept="image/*" hidden>
                    </div>
                    <div class="mini-drop" id="drop-b">
                        π“‚ μ„Ένƒλ³Έ(B)<br>ν΄λ¦­/λ“λ΅­
                        <input type="file" id="input-b" accept="image/*" hidden>
                    </div>
                </div>

                <button id="compare-btn" style="background:#6c757d;">π” λΉ„κµ λ¶„μ„ μ‹μ‘</button>

                <div id="compare-result" class="hidden">
                    <table class="result-table">
                        <thead>
                            <tr>
                                <th>ν•­λ©</th>
                                <th>μ›λ³Έ(A)</th>
                                <th>μ„Ένƒλ³Έ(B)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>λ©”νƒ€λ°μ΄ν„°</td>
                                <td id="res-meta-a">-</td>
                                <td id="res-meta-b">-</td>
                            </tr>
                            <tr>
                                <td>νμΌν¬κΈ°</td>
                                <td id="res-size-a">-</td>
                                <td id="res-size-b">-</td>
                            </tr>
                            <tr>
                                <td>ν•΄μƒλ„</td>
                                <td id="res-dim-a">-</td>
                                <td id="res-dim-b">-</td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top:1rem;">
                        <span style="font-weight:bold; font-size:0.9rem;">π‘οΈ λ΄‡μ΄ λ³΄λ” μ°¨μ΄ (Color=λ³€κ²½λ¨)</span>
                        <img id="diff-image" class="diff-preview" src="" alt="Difference Map">
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="/static/script.js"></script>
</body>

</html>